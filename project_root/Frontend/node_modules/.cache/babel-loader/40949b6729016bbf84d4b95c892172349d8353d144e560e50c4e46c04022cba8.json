{"ast":null,"code":"var _jsxFileName = \"/Users/zerowing/Desktop/PJT_New/file_management_frontend/project_root/Frontend/src/pages/SignupPage.js\",\n  _s = $RefreshSig$();\n// SignupPage.js\nimport React, { useState, useRef } from 'react';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignupPage = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n    name: '',\n    age: ''\n  });\n  const [errorMessage, setErrorMessage] = useState('');\n  const canvasRef = useRef(null);\n\n  // Handle form input changes\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  // Clear the canvas\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  // Capture signature drawing\n  const handleCanvasDraw = e => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.lineWidth = 2;\n    ctx.lineCap = 'round';\n    ctx.strokeStyle = '#000';\n    ctx.beginPath();\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    const draw = event => {\n      ctx.lineTo(event.nativeEvent.offsetX, event.nativeEvent.offsetY);\n      ctx.stroke();\n    };\n    const stopDrawing = () => {\n      canvas.removeEventListener('mousemove', draw);\n      canvas.removeEventListener('mouseup', stopDrawing);\n    };\n    canvas.addEventListener('mousemove', draw);\n    canvas.addEventListener('mouseup', stopDrawing);\n  };\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    if (formData.password !== formData.confirmPassword) {\n      setErrorMessage(\"Passwords do not match\");\n      return;\n    }\n\n    // Convert canvas drawing to data URL\n    const canvas = canvasRef.current;\n    const signature = canvas.toDataURL('image/png');\n    const response = await fetch(\"http://localhost:8000/signup/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        ...formData,\n        signature\n      })\n    });\n    const data = await response.json();\n    if (response.ok) {\n      alert(data.message);\n    } else {\n      setErrorMessage(data.detail || \"There was an error with your request.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"username\",\n      placeholder: \"Username\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      placeholder: \"Full Name\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"age\",\n      placeholder: \"Age\",\n      type: \"number\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      placeholder: \"Password\",\n      type: \"password\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"confirmPassword\",\n      placeholder: \"Confirm Password\",\n      type: \"password\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Signature:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 300,\n      height: 150,\n      style: {\n        border: '1px solid black'\n      },\n      onMouseDown: handleCanvasDraw\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clearCanvas,\n      children: \"Clear Signature\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(SignupPage, \"wzCmDUUJNkjsSyX/Gt/g6L45Df8=\");\n_c = SignupPage;\nexport default SignupPage;\nvar _c;\n$RefreshReg$(_c, \"SignupPage\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","SignupPage","_s","formData","setFormData","username","password","confirmPassword","name","age","errorMessage","setErrorMessage","canvasRef","handleChange","e","target","value","clearCanvas","canvas","current","ctx","getContext","clearRect","width","height","handleCanvasDraw","lineWidth","lineCap","strokeStyle","beginPath","moveTo","nativeEvent","offsetX","offsetY","draw","event","lineTo","stroke","stopDrawing","removeEventListener","addEventListener","handleSubmit","signature","toDataURL","response","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","message","detail","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","type","ref","style","border","onMouseDown","onClick","_c","$RefreshReg$"],"sources":["/Users/zerowing/Desktop/PJT_New/file_management_frontend/project_root/Frontend/src/pages/SignupPage.js"],"sourcesContent":["// SignupPage.js\nimport React, { useState, useRef } from 'react';\nimport '../App.css';\n\nconst SignupPage = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n    name: '',\n    age: '',\n  });\n  const [errorMessage, setErrorMessage] = useState('');\n  const canvasRef = useRef(null);\n\n  // Handle form input changes\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  // Clear the canvas\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  // Capture signature drawing\n  const handleCanvasDraw = (e) => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.lineWidth = 2;\n    ctx.lineCap = 'round';\n    ctx.strokeStyle = '#000';\n    ctx.beginPath();\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n\n    const draw = (event) => {\n      ctx.lineTo(event.nativeEvent.offsetX, event.nativeEvent.offsetY);\n      ctx.stroke();\n    };\n\n    const stopDrawing = () => {\n      canvas.removeEventListener('mousemove', draw);\n      canvas.removeEventListener('mouseup', stopDrawing);\n    };\n\n    canvas.addEventListener('mousemove', draw);\n    canvas.addEventListener('mouseup', stopDrawing);\n  };\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    if (formData.password !== formData.confirmPassword) {\n      setErrorMessage(\"Passwords do not match\");\n      return;\n    }\n    \n    // Convert canvas drawing to data URL\n    const canvas = canvasRef.current;\n    const signature = canvas.toDataURL('image/png');\n    \n    const response = await fetch(\"http://localhost:8000/signup/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ...formData, signature }),\n    });\n    const data = await response.json();\n    \n    if (response.ok) {\n      alert(data.message);\n    } else {\n      setErrorMessage(data.detail || \"There was an error with your request.\");\n    }\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h2>Sign Up</h2>\n      <input name=\"username\" placeholder=\"Username\" onChange={handleChange} />\n      <input name=\"name\" placeholder=\"Full Name\" onChange={handleChange} />\n      <input name=\"age\" placeholder=\"Age\" type=\"number\" onChange={handleChange} />\n      <input name=\"password\" placeholder=\"Password\" type=\"password\" onChange={handleChange} />\n      <input name=\"confirmPassword\" placeholder=\"Confirm Password\" type=\"password\" onChange={handleChange} />\n      \n      {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n      \n      <h3>Signature:</h3>\n      <canvas\n        ref={canvasRef}\n        width={300}\n        height={150}\n        style={{ border: '1px solid black' }}\n        onMouseDown={handleCanvasDraw}\n      />\n      <button onClick={clearCanvas}>Clear Signature</button>\n      \n      <button onClick={handleSubmit}>Submit</button>\n    </div>\n  );\n};\n\nexport default SignupPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}